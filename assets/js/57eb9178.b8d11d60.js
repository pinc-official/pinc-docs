"use strict";(self.webpackChunkpinc_docs=self.webpackChunkpinc_docs||[]).push([[681],{7153:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=t(4848),i=t(8453);const s={slug:"/your-first-component",title:"Your first Component",sidebar_position:1},r="Your first Component",a={id:"Introduction/your-first-component",title:"Your first Component",description:"To create your first component, you first have to create a file with the .pi extention.",source:"@site/docs/Introduction/your-first-component.md",sourceDirName:"Introduction",slug:"/your-first-component",permalink:"/pinc-docs/your-first-component",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/your-first-component",title:"Your first Component",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/pinc-docs/"},next:{title:"Let Bindings",permalink:"/pinc-docs/Language Features/let-bindings"}},c={},l=[{value:"Creating a Button",id:"creating-a-button",level:2},{value:"Rendering our Button component",id:"rendering-our-button-component",level:2},{value:"Using Slots",id:"using-slots",level:2},{value:"Restricting our Slot",id:"restricting-our-slot",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"your-first-component",children:"Your first Component"}),"\n",(0,o.jsxs)(n.p,{children:["To create your first component, you first have to create a file with the ",(0,o.jsx)(n.code,{children:".pi"})," extention."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["pinc files neither need to be in a specific folder structure, nor specify how many components you declare inside of\nthem. In theory, you could write your whole application inside of a single ",(0,o.jsx)(n.code,{children:".pi"})," file."]})}),"\n",(0,o.jsx)(n.h2,{id:"creating-a-button",children:"Creating a Button"}),"\n",(0,o.jsxs)(n.p,{children:["Every component needs to start with the ",(0,o.jsx)(n.code,{children:"component"})," keyword, and has to be given a unique uppercase identifier as a name\n(in our case ",(0,o.jsx)(n.code,{children:"Button"}),")."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",metastring:'title="Button.pi" showLineNumbers',children:'component Button {\n  <button class="Button">\n    <span class="Button-icon Button-icon--arrowRight">\n    <span class="Button-text">Click me!</span>\n  </button>\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"The body of your component contains the logic needed to render your template. In the example above, the template is\ncompletely static and cannot be passed any options to change its appearance."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Let's change that:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",metastring:'title="Button.pi" showLineNumbers',children:'component Button {\n  // highlight-start\n  let text = #String(key: "text");\n  let icon = #String(key: "icon");\n  // highlight-end\n\n  <button class="Button">\n    <span class="Button-icon Button-icon--$(icon)">\n    <span class="Button-text">{text}</span>\n  </button>\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["We now added two variables to our Button component: ",(0,o.jsx)(n.code,{children:"text"})," and ",(0,o.jsx)(n.code,{children:"icon"}),". ",(0,o.jsx)("br",{})," Both have a so called ",(0,o.jsx)(n.code,{children:"Tag"})," assigned as\ntheir value, more specifically a String-Tag."]}),"\n",(0,o.jsxs)(n.p,{children:["Tags are the way for you to ask the compiler to do something. In the case of a ",(0,o.jsx)(n.code,{children:"#String"})," the compiler searches for the\nclosest value with the provided key it can find and validates it to be a string value. The value may either be the\nrender call of the parent component or the implementing application (CMS), if there is no parent component. You can read\nmore about tags ",(0,o.jsx)(n.a,{href:"Language%20Features/tags",children:"here"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["In our template, we can render variables by wrapping them in curly braces (",(0,o.jsx)(n.code,{children:"{}"}),") as seen with the ",(0,o.jsx)(n.code,{children:"text"})," variable.\n",(0,o.jsx)("br",{})," With the ",(0,o.jsx)(n.code,{children:"icon"}),", we use a string template, to append its value to the class attribute."]}),"\n",(0,o.jsxs)(n.admonition,{type:"tip",children:[(0,o.jsxs)(n.p,{children:["If the name of the let-declaration and the key are the same, you can remove the ",(0,o.jsx)(n.code,{children:"key"})," attribute from the tag. ",(0,o.jsx)("br",{})," So\nthese two tags do the same:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'let text = #String(key: "text");\nlet text = #String;\n'})})]}),"\n",(0,o.jsx)(n.h2,{id:"rendering-our-button-component",children:"Rendering our Button component"}),"\n",(0,o.jsxs)(n.p,{children:["In another component we are now able to render our ",(0,o.jsx)(n.code,{children:"Button"})," and change its text and icon value:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",metastring:'title="Header.pi" showLineNumbers',children:'component Header {\n  <header class="Header">\n    <img class="Header-logo" src="/path/to/logo.svg" />\n\n    <div class="Header-actions">\n      // highlight-start\n      <Button icon="login" text="Login" />\n      // highlight-end\n    </div>\n  </header>\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Components are rendered by using it's uppercase identifier as a html tag name. ",(0,o.jsx)("br",{})," All uppercase html tags are\nassumed to be components and are searched for in your application. ",(0,o.jsx)("br",{})," If they cannot be found, pinc fails compiling."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["As you can see, we don't have to import our component anywhere. ",(0,o.jsx)("br",{})," pinc resolves all components automatically by its\nname, which means that every component needs to have a unique name."]})}),"\n",(0,o.jsx)(n.h2,{id:"using-slots",children:"Using Slots"}),"\n",(0,o.jsxs)(n.p,{children:["In the current implementation of our Header, we have to statically add all Buttons for our actions inside the template.\n",(0,o.jsx)("br",{})," If we assume, that the Buttons are more dynamic and can change based on some criteria, it would make more sense\nfor them to be provided from outside of our Header."]}),"\n",(0,o.jsx)(n.p,{children:"Thats what slots are used for. They are similar to the ones found in Vue or Web-Components, but there are some key\ndifferences you have to look out for."}),"\n",(0,o.jsx)(n.p,{children:"Let's define our slot and render it where our buttons should appear:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",metastring:'title="Header.pi" showLineNumbers',children:'component Header {\n  // highlight-start\n  let actions = #Slot(key: "actions");\n  // highlight-end\n\n  <header class="Header">\n    <img class="Header-logo" src="/path/to/logo.svg" />\n\n    <div class="Header-actions">\n      // highlight-start\n      {actions}\n      // highlight-end\n    </div>\n  </header>\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.code,{children:"#Slot"})," is just another tag, which instructs the compiler to look for provided Template-Nodes in the parent component.\n",(0,o.jsx)("br",{})," In our ",(0,o.jsx)(n.code,{children:"App"})," component, we are now able to provide the button from outside our Header:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",metastring:'title="App.pi" showLineNumbers',children:'component App {\n  <>\n    <Header>\n      // highlight-start\n      <Button slot="actions" icon="login" text="Login" />\n      // highlight-end\n    </Header>\n    <Main />\n    <Footer />\n  </>\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["To put a Template-Node inside a slot, you place it between the opening and closing tag of the component and (optionally)\nadd the ",(0,o.jsx)(n.code,{children:"slot"})," attribute with the same name as the declared ",(0,o.jsx)(n.code,{children:"#Slot"}),". ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsxs)(n.admonition,{type:"tip",children:[(0,o.jsxs)(n.p,{children:["You may also add a ",(0,o.jsx)(n.code,{children:"default"}),"-Slot, by setting the key of the ",(0,o.jsx)(n.code,{children:"#Slot"})," to an empty string (",(0,o.jsx)(n.code,{children:'""'}),"). The default slots get\nall nodes passed in, which do not have a slot attribute."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",children:'let default_slot = #Slot(key: "");\n'})})]}),"\n",(0,o.jsx)(n.h3,{id:"restricting-our-slot",children:"Restricting our Slot"}),"\n",(0,o.jsxs)(n.p,{children:["With the current implementation of our Header, you are able to place everything inside the slot. ",(0,o.jsx)("br",{})," Let's add a\nrestriction, so you are only able to place ",(0,o.jsx)(n.code,{children:"Button"})," components inside it:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",metastring:'title="Header.pi" showLineNumbers',children:'component Header {\n  let actions = #Slot(key: "actions", constraints: [Button]);\n\n  // ...\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["We now added an ",(0,o.jsx)(n.code,{children:"constraints"})," attribute to our ",(0,o.jsx)(n.code,{children:"#Slot"}),", with which we may declare a set of restrictions for this slot.\n",(0,o.jsx)("br",{})," You are able to allow a set of components by adding them to the instance array. As soon as you do that, all other\ncomponents and html-tags are automatically disallowed. ",(0,o.jsx)("br",{})," If you want to disallow a set of components and allow\neverything else, you have to prefix the component name with a ",(0,o.jsx)(n.code,{children:"!"}),". ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"For example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-pi",children:"// allow only Button and Link components:\nlet allow = #Slot(constraints: [Button, Link]);\n\n// allow everything but Button and Link components:\nlet disallow = #Slot(constraints: [!Button, !Link]);\n"})}),"\n",(0,o.jsxs)(n.p,{children:["With that change, our Header is only able to recieve ",(0,o.jsx)(n.code,{children:"Button"})," components and fails compiling, when you try to put some\nother component inside it's actions slot."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(6540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);